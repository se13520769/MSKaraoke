
<!DOCTYPE html>
<html>
<head>
	<title>
		Giao diện opensource
	</title>
	<meta charset="utf-8" />
	<meta name="format-detection" content="telephone=no" />
	<meta name="msapplication-tap-highlight" content="no" />
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
	<!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
	<meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/jquery.mobile-1.4.2.min.css" rel="stylesheet">
	<link href="css/bootstrap-theme.min.css" rel="stylesheet">
	<link href="css/search.css" rel="stylesheet">
	<link href="css/tabMenu.css" rel="stylesheet">
	<link href="css/tabMenu_Footers.css" rel="stylesheet">
	<link href="css/clusterize.css" rel="stylesheet">
	<script src="js/clusterize.min.js"></script>

	<style>
		html,
		body {
			margin:0;
			padding:0;
			height:100%;
			overflow:hidden; /*them vao*/
			box-sizing: border-box;
		}
		*, *:before, *:after {
			box-sizing: inherit;
		}
		#container {
			min-height:100%;
			position:relative;
		}
		#header {
			/*background:#ff0;*/
			padding:0px 0px 0px 0px;
		}
		#body {
			padding:10px;
			padding-bottom:60px;   /* Height of the footer */
		}
		#footer {
			position:absolute;
			bottom:0;
			width:100%;
			/*height:60px;*/
			/* Height of the footer */
			/*background:#6cf;*/
		}

		body:before {
			content:"";
			z-index:-1;
			position:fixed;
			top:0;
			right:0;
			bottom:0;
			left:0;
			background-size:cover
		}
		#header {
			position:fixed;
			left:0;
			top:0;
			right:0;
			min-height:50px;
		}
		.left{
			position:fixed;
			left:0;
			top:100px;
			bottom:20px;
			width:100%;
			overflow:hidden;
		}
		.left-inner{
			position:absolute;
			left:0;
			top:0;
			right:-20px;
			bottom:0;
			padding:0px;
			overflow:scroll
		}
		div.selectDivSong:active{
			background-color: yellow;
		}
	</style>
	<script type='text/javascript' > 
		var localDBDemo; 
	</script>
	
</head>
<body onload="onLoad()">
	<div id="container">
		<div id="header">
			<div class="container">
				<div class="row"  style="background-color :green;height: 45px">
					<div id="Tramaso" class="tabcontent" style="background-color :yellow">
						<div class="row"  style="height: 45px; padding-left: 10px;padding-top: 5px;padding-right: 10px;
						">
						<div class="col-xs-12">
							<div class="input-group">
								<div class="input-group-btn search-panel" style="width: 25%;">
									<select class="selectpicker form-control" style="border-bottom-left-radius: 5px;    border-top-left-radius: 5px;" id="opSearch" >
										<option  value="1">Tên bài hát</option>
										<option  value="2">Lời bài hát</option>
										<option  value="3">Ca sỹ/Nhạc sỹ</option>
									</select>
								</div>
								
								<input type="hidden" name="search_param" value="all" id="search_param">         
								<input type="text" class="form-control" id="txtSearch" onkeyup="keyUPSearch()" placeholder="Search ...">
							</div>
						</div>
					</div>
					<div class="row" style="background-color: pink ;padding-bottom: 0px">
						<div class="card">
							<ul class="nav nav-tabs" role="tablist">
								<li style="	width: 25% ;padding:10px 0px 10px 0px;margin: 0px" class="col-xs-3" role="presentation" class="active">
									<a style="height: 30px ;width: 100% ;padding: 0px;margin: 0px" href="#profile" aria-controls="profile" role="tab" data-toggle="tab"><center>Ariang</center></a>
								</li>
								<li style="	width: 25% ;padding:10px 0px 10px 0px;margin: 0px" class="col-xs-3" role="presentation" class="active">
									<a style="height: 30px ;width: 100% ;padding: 0px;margin: 0px" href="#profile" aria-controls="profile" role="tab" data-toggle="tab"><center>MusicCore</center></a>
								</li>
								<li style="	width: 25% ;padding:10px 0px 10px 0px;margin: 0px" class="col-xs-3" role="presentation" class="active">
									<a style="height: 30px ;width: 100% ;padding: 0px;margin: 0px" href="#profile" aria-controls="profile" role="tab" data-toggle="tab"><center>California</center></a>
								</li>
								<li style="	width: 25% ;padding:10px 0px 10px 0px;margin: 0px" class="col-xs-3" role="presentation" class="active">
									<a style="height: 30px ;width: 100% ;padding: 0px;margin: 0px" href="#profile" aria-controls="profile" role="tab" data-toggle="tab"><center>VietKTV</center></a>
								</li>
							</ul>
						</div>
					</div>
				</div>
				<div id="Dangmuc" class="tabcontent" style="width: 100%">
					<div class="row" style="background-color: yellow;height: 45px" >
						<div class="col-xs-12">
							<div class="col-xs-3" style="width: 30%; padding :5px 5px 0px 5px">
								<div class="form-group">
									<select class="selectpicker form-control" disabled="true">
										<option>Ariang</option>
										<option>MusicCore</option>
										<option>California</option>
										<option>VietKTV</option>
									</select>
								</div>
							</div>
							<div class="col-xs-3" style="width: 30%; padding :5px 5px 0px 5px">
								<div class="form-group">
									<select class="selectpicker form-control" disabled="true">
										<option>Vol 52</option>
										<option>Vol 59</option>
										<option>Vol 58</option>
									</select>
								</div>
							</div>
							<div class="col-xs-3" style="width: 30%; padding :5px 5px 0px 5px">
								<div class="form-group">
									<select class="selectpicker form-control" id="opDSAphabet" onchange="getvalAphabet(this);">
										<option value="Tatca">Tât cả chữ cái</option>
										<option value="A">A</option>
										<option value="B">B</option>
										<option value="C">C</option>
										<option value="D">D</option>
										<option value="E">E</option>
										<option value="F">F</option>
										<option value="G">G</option>
										<option value="H">H</option>
										<option value="I">I</option>
										<option value="J">J</option>
										<option value="K">K</option>
										<option value="L">L</option>
										<option value="M">M</option>
										<option value="N">N</option>
										<option value="O">O</option>
										<option value="P">P</option>
										<option value="Q">Q</option>
										<option value="R">R</option>
										<option value="S">S</option>
										<option value="T">T</option>
										<option value="U">U</option>
										<option value="V">V</option>
										<option value="W">W</option>
										<option value="X">X</option>
										<option value="Y">Y</option>
										<option value="Z">Z</option>
									</select>
								</div>
							</div>
							<div class="col-xs-3" style="width: 10%; padding :5px 5px 0px 5px">	
								<span >
									<span style="float: left;font-size:150%" onclick="returnTramaso()";>&#128269;</span>
								</span>
							</div>
						</div>
					</div>
				</div>
				<div id="Yeuthich" class="tabcontent" style="width: 100%">
					<div class="row" style="background-color: yellow;height: 45px" >
						<div class="col-xs-12">
							<div class="col-xs-3" style="width: 30%; padding :5px 5px 0px 5px">
								<div class="form-group">
									<select class="selectpicker form-control" disabled="true">
										<option>Ariang</option>
										<option>MusicCore</option>
										<option>California</option>
										<option>VietKTV</option>
									</select>
								</div>
							</div>
							<div class="col-xs-3" style="width: 30%; padding :5px 5px 0px 5px">
								<div class="form-group">
									<select class="selectpicker form-control" disabled="true">
										<option>Vol 52</option>
										<option>Vol 59</option>
										<option>Vol 58</option>
									</select>
								</div>
							</div>
							<div class="col-xs-3" style="width: 30%; padding :5px 5px 0px 5px">
								<div class="form-group">
									<select class="selectpicker form-control" id="opDSAphabet_Yeuthich" onchange="getvalAphabet_yeuthich(this);">
										<option value="Tatca">Tât cả chữ cái</option>
										<option value="A">A</option>
										<option value="B">B</option>
										<option value="C">C</option>
										<option value="D">D</option>
										<option value="E">E</option>
										<option value="F">F</option>
										<option value="G">G</option>
										<option value="H">H</option>
										<option value="I">I</option>
										<option value="J">J</option>
										<option value="K">K</option>
										<option value="L">L</option>
										<option value="M">M</option>
										<option value="N">N</option>
										<option value="O">O</option>
										<option value="P">P</option>
										<option value="Q">Q</option>
										<option value="R">R</option>
										<option value="S">S</option>
										<option value="T">T</option>
										<option value="U">U</option>
										<option value="V">V</option>
										<option value="W">W</option>
										<option value="X">X</option>
										<option value="Y">Y</option>
										<option value="Z">Z</option>
									</select>
								</div>
							</div>
							<div class="col-xs-3" style="width: 10%; padding :5px 5px 0px 5px">	
								<span>
									<span style="float: left;font-size:150%" onclick="returnTramaso()";>&#128269;</span>
								</span>
							</div>
						</div>
					</div>
				</div>
				
			</div>
		</div>	
	</div>
	<div id="body">
		<div id="thongtinhuongdan" style="z-index: 998;margin-top: 90px" >
			<h3 style="color: #ab0027">
				<b>Hướng dẫn tìm kiếm: <b>
				</h3>
				<p style="margin-left: 40px">Có dấu,không dấu,IN HOA hay viết trường đều được chấp nhận.</p>
				<h4>
					<b>Tìm theo tên bài hát</b> 
				</h4>
				<p style="margin:5px 0px 15px 40px">Tìm <span style="color: green">"Góc tối"</span>, có thể gõ <span style="color: red">"Góc tối"</span> hoặc <span style="color: red">"goc toi"</span>  hoặc <span style="color: red">"gt"</span> </p>
				<h4>
					<b>Tìm theo Ca sỹ /Nhạc sỹ</b>
				</h4>
				<p style="margin:5px 0px 15px 40px">Tìm <span style="color: green"> "Nguyễn Hải Phong"</span>, có thể gõ <span style="color: red"> "Nguyễn Hải Phong"</span> hoặc <span style="color: red">"nguyen hai phong" </span>hoặc <span style="color: red">"nhp"</span>.</p>
				<h4>
					<b>Tìm theo lời bài hát</b>
				</h4>
				<p style="margin:5px 0px 15px 40px">Tìm <span style="color: green">"Góc tối"</span>, Gõ <span style="color: red">"Cho tôi đêm nay không lạnh lùng"</span> hoặc <span style="color: red">"cho toi dem nay khong lanh lung"</span>(Câu đầu tiên của bài hát).</p>
				<span style="color: red"></span>
			</div>
			<div class="left" style="display: none;" id="dsBaihat" >
				<div class="left-inner" id="listSongParent">
				</div>
			</div>
			
		</div>
		<div id="footer">
			<ul class="tab" >
				<div class="col-xs-4">
					<center>
						<li style="width: 100%"><a style="width: 100% ;font-size: 3.2vw;" href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'Tramaso')">Tra mã số</a></li>
					</center>
				</div>
				<div class="col-xs-4">
					<li style="width: 100%"><a style="width: 100%;font-size: 3.2vw;" href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'Dangmuc')">Danh mục</a></li>
				</div>
				<div class="col-xs-4">
					<li  style="width: 100%"><a style="width: 100% ;font-size: 3.2vw;" href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'Yeuthich')" id="clickYeuThich">Yêu thích</a></li>
				</div>
			</ul>
		</div>
	</div>

	<script type="text/javascript">
		function onLoad() {
			document.getElementById('Tramaso').style.display ='block';
			$('#txtSearch').bind('input', function() {
				var value_search = document.getElementById('txtSearch').value;	
				if (value_search.length >=2 ) {
					document.getElementById("dsBaihat").style.display ="block";
					document.getElementById("thongtinhuongdan").style.display ="none";			
				}
				else{
					document.getElementById("dsBaihat").style.display ="none";
					document.getElementById("thongtinhuongdan").style.display ="block";
				}
			});
		}

		function reply_click(clicked_id){
			localDBDemo.updateSetting(clicked_id);
			var color = document.getElementById(clicked_id).style.color;
			if(color=="red")
			{
				document.getElementById(clicked_id).style.color ="green";
			}else{
				document.getElementById(clicked_id).style.color ="red";
			}
		}
		function returnTramaso(){
			openTab("onclick", "Tramaso");
		}
		



		function change_alias( alias ){
			var str = alias;
			str= str.toLowerCase(); 
			str= str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ  |ặ|ẳ|ẵ/g,"a"); 
			str= str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"); 
			str= str.replace(/ì|í|ị|ỉ|ĩ/g,"i"); 
			str= str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ  |ợ|ở|ỡ/g,"o"); 
			str= str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"); 
			str= str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"); 
			str= str.replace(/đ/g,"d"); 
			str= str.replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'|\"|\&|\#|\[|\]|~|$|_/g,"-");
			/* tìm và thay thế các kí tự đặc biệt trong chuỗi sang kí tự - */
		    str= str.replace(/-+-/g,"-"); //thay thế 2- thành 1-
		    str= str.replace(/^\-+|\-+$/g,""); 
		    //cắt bỏ ký tự - ở đầu và cuối chuỗi 
		    return str;
		}
		function getFirstLetter(str)
		{
			return str.split(' ').map(function(item){return item[0]}).join('');;
		}

		function getvalAphabet(sel){
			var  taga,i,tagh_tenbaihat;
			divParent = document.getElementById("listSongParent");
			taga =divParent.getElementsByTagName("a");
			tagh_tenbaihat =divParent.getElementsByTagName("h4");

			for (i = 0; i < tagh_tenbaihat.length; i++) {
				if(sel.value=="Tatca")
				{
					taga[i].style.display = "";
					return;
				}
				if (tagh_tenbaihat[i].innerText.charAt(0).toUpperCase().indexOf(sel.value) > -1) {
					taga[i].style.display = "";
				} else {
					taga[i].style.display = "none";
				}
			}
		}
		function getvalAphabet_yeuthich(sel){
			var  taga,i,tagh_tenbaihat,tag_span;
			divParent = document.getElementById("listSongParent");
			taga =divParent.getElementsByTagName("a");
			tagh_tenbaihat =divParent.getElementsByTagName("h4");
			tag_span =divParent.getElementsByTagName("span");

			for (i = 0; i < tag_span.length; i++) {
				if (tag_span[i].style.color =="red") {
					if(sel.value=="Tatca")
					{
						taga[i].style.display = "";

					}
					else{
						if (tagh_tenbaihat[i].innerText.charAt(0).toUpperCase().indexOf(sel.value) > -1) {
							taga[i].style.display = "";
						} else {
							taga[i].style.display = "none";
						}
					}
				} else {
					taga[i].style.display = "none";
				}
			}
		}

		function keyUPSearch() {
			var input, filter, taga, i,tag_tenbaihat,tag_caudautien,tag_casy_nhacsy;
			input = document.getElementById("txtSearch");
			filter = input.value.toUpperCase();
			var sel = document.getElementById("opSearch");
		var value_option = sel.options[sel.selectedIndex].value; // or sel.value
		switch(value_option)
		{
			case "1":
			{
				if(filter.length>=2)
				{
					divParent = document.getElementById("listSongParent");
					taga =divParent.getElementsByTagName("a");
					tag_tenbaihat =divParent.getElementsByTagName("h4");
					for (i = 0; i < tag_tenbaihat.length; i++) {
						if (tag_tenbaihat[i].innerText.toUpperCase().indexOf(filter) > -1 || 
							getFirstLetter(tag_tenbaihat[i].innerText).toUpperCase().indexOf(filter) > -1 ||
							change_alias(tag_tenbaihat[i].innerText).toUpperCase().indexOf(filter) > -1 ) {
							taga[i].style.display = "";
					} else {
						taga[i].style.display = "none";
					}
				}
			}
		}
		break;
		case "2":
		{
			if(filter.length>=2)
			{
				divParent = document.getElementById("listSongParent");
				taga =divParent.getElementsByTagName("a");
				tag_caudautien =divParent.getElementsByTagName("h5");

				for (i = 0; i < tag_caudautien.length; i++) {
					if (tag_caudautien[i].innerText.toUpperCase().indexOf(filter) > -1 || 
						getFirstLetter(tag_caudautien[i].innerText).toUpperCase().indexOf(filter) > -1 ||
						change_alias(tag_caudautien[i].innerText).toUpperCase().indexOf(filter) > -1 ) {
						
						taga[i].style.display = "";
				} else {
					taga[i].style.display = "none";
				}
			}
		}
	}
	break;
	case "3":
	{
		if(filter.length>=2)
		{
			divParent = document.getElementById("listSongParent");
			taga =divParent.getElementsByTagName("a");
			tag_casy_nhacsy =divParent.getElementsByTagName("h6");
			
			for (i = 0; i < tag_casy_nhacsy.length; i++) {
				if (tag_casy_nhacsy[i].innerText.toUpperCase().indexOf(filter) > -1 || 
					getFirstLetter(tag_casy_nhacsy[i].innerText).toUpperCase().indexOf(filter) > -1 ||
					change_alias(tag_casy_nhacsy[i].innerText).toUpperCase().indexOf(filter) > -1 ) {
					taga[i].style.display = "";
			} else {
				taga[i].style.display = "none";
			}
		}
	}
}
break;
}
}

function openTab(evt, tabName) {
	var i, tabcontent, tablinks;
	tabcontent = document.getElementsByClassName("tabcontent");
	for (i = 0; i < tabcontent.length; i++) {
		tabcontent[i].style.display = "none";
		tabcontent[i].style.visibility = "none";
	}
	tablinks = document.getElementsByClassName("tablinks");
	for (i = 0; i < tablinks.length; i++) {
		tablinks[i].className = tablinks[i].className.replace(" active", "");
	}
	var  taga,span, i;
	divParent = document.getElementById("listSongParent");
	taga =divParent.getElementsByTagName("a");
	span =divParent.getElementsByTagName("span");
	switch (tabName){
		case "Tramaso":{
			document.getElementById("dsBaihat").style.top ="100px";
			var value = document.getElementById('txtSearch').value;		
			for (i = 0; i < span.length; i++) {
				taga[i].style.display = "block";
			}
			if (value.length >=2 ) {
				document.getElementById("dsBaihat").style.display ="block";
				document.getElementById("thongtinhuongdan").style.display ="none";

			}
			else{
				document.getElementById("dsBaihat").style.display ="none";

				document.getElementById("thongtinhuongdan").style.display ="block";
			}
		}
		break;
		case "Dangmuc":{
			document.getElementById("thongtinhuongdan").style.display = "none";
			document.getElementById("dsBaihat").style.display = "block";
			document.getElementById("dsBaihat").style.top ="50px";
			for (i = 0; i < span.length; i++) {
				taga[i].style.display = "block";
			}
		}
		break;
		case "Yeuthich":{
			document.getElementById("thongtinhuongdan").style.display = "none";
			document.getElementById("dsBaihat").style.display = "block";
			document.getElementById("dsBaihat").style.top ="50px";

			for (i = 0; i < span.length; i++) {
				if (span[i].style.color =="red") {
					taga[i].style.display = "";
				} else {
					taga[i].style.display = "none";
				}
			}
		}
		break;
	}

	document.getElementById(tabName).style.display = "block";
	evt.currentTarget.className += " active";
}

</script>


<script type="text/javascript" src="cordova.js"></script>
<script type="text/javascript" src="js/index.js"></script>
<script type="text/javascript">
	app.initialize();
</script>
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/db.js" type="text/javascript" charset="utf-8"></script>

</body>
</html>